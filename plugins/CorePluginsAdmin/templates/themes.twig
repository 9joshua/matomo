{% extends 'admin.twig' %}

{% import '@CorePluginsAdmin/macros.twig' as plugins %}

{% set title %}{{ 'CorePluginsAdmin_ThemesManagement'|translate }}{% endset %}

{% block content %}

<div piwik-content-intro>
    <h2 piwik-enriched-headline>
        {{ title|e('html_attr') }}
    </h2>

    <p>
        {{ 'CorePluginsAdmin_ThemesDescription'|translate }}

        {% if isMarketplaceEnabled %}
            {{ 'CorePluginsAdmin_TeaserExtendPiwikByTheme'|translate('<a href="' ~ linkTo({'module': 'Marketplace','action':'overview', 'sort': '', 'show': 'themes'}) ~ '">', '</a>')|raw }}
        {% endif %}

        {% if otherUsersCount > 0 %}
            <br/> {{ 'CorePluginsAdmin_InfoThemeIsUsedByOtherUsersAsWell'|translate(otherUsersCount, themeEnabled) }}
        {% endif %}
        {% if not isPluginsAdminEnabled %}
            <br/>{{ 'CorePluginsAdmin_DoMoreContactPiwikAdmins'|translate }}
        {% endif %}

    </p>
</div>

<div
    vue-entry="CorePluginsAdmin.PluginsTable"
    title="{{ 'CorePluginsAdmin_InstalledThemes'|translate|json_encode|e('html_attr') }}"
    is-theme="true"
    display-admin-links="{{ displayAdminLinks|json_encode|e('html_attr') }}"
    plugins-info="{{ pluginsInfo|default({})|json_encode|e('html_attr') }}"
    uninstall-nonce="{{ uninstallNonce|json_encode|e('html_attr') }}"
    deactivate-nonce="{{ deactivateNonce|json_encode|e('html_attr') }}"
    activate-nonce="{{ activateNonce|json_encode|e('html_attr') }}"
    marketplace-plugin-names="{{ marketplacePluginNames|default([])|json_encode|e('html_attr') }}"
    plugin-names-having-settings="{{ pluginNamesHavingSettings|default([])|json_encode|e('html_attr') }}"
></div>

{% endblock %}
