(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue")):"function"===typeof define&&define.amd?define(["CoreHome"],t):"object"===typeof exports?exports["CorePluginsAdmin"]=t(require("CoreHome"),require("vue")):e["CorePluginsAdmin"]=t(e["CoreHome"],e["Vue"])})("undefined"!==typeof self?self:this,(function(e,t){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="plugins/CorePluginsAdmin/vue/dist/",n(n.s="fae3")}({"19dc":function(t,n){t.exports=e},"8bbf":function(e,n){e.exports=t},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"FormField",(function(){return zt})),n.d(t,"Field",(function(){return Wt})),n.d(t,"PluginSettings",(function(){return En})),n.d(t,"PluginFilter",(function(){return Un})),n.d(t,"PluginManagement",(function(){return zn})),n.d(t,"PluginUpload",(function(){return Wn})),n.d(t,"SaveButton",(function(){return Xn})),n.d(t,"Form",(function(){return no})),n.d(t,"GroupedSettings",(function(){return On})),n.d(t,"PluginsIntro",(function(){return uo})),n.d(t,"ThemesIntro",(function(){return jo})),n.d(t,"PluginName",(function(){return ko})),n.d(t,"PluginsTable",(function(){return bl})),n.d(t,"PluginsTableWithUpdates",(function(){return Gl})),n.d(t,"UploadPluginDialog",(function(){return lr})),"undefined"!==typeof window){var o=window.document.currentScript,i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var l=n("8bbf"),r={class:"form-group row matomo-form-field"},a={key:0,class:"col s12"},c={key:0,class:"form-help"},u={key:0,class:"inline-help",ref:"inlineHelp"},s=Object(l["createElementVNode"])("br",null,null,-1);function d(e,t,n,o,i,d){return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[e.formField.introduction?(Object(l["openBlock"])(),Object(l["createElementBlock"])("h3",a,Object(l["toDisplayString"])(e.formField.introduction),1)):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["col s12",{"input-field":"checkbox"!==e.formField.uiControl&&"radio"!==e.formField.uiControl,"file-field":"file"===e.formField.uiControl,m6:!e.formField.fullWidth}])},[(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["resolveDynamicComponent"])(e.childComponent),Object(l["mergeProps"])(Object.assign(Object.assign({formField:e.formField},e.formField),{},{modelValue:e.processedModelValue,availableOptions:e.availableOptions},e.extraChildComponentParams),{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onChange(t)})}),null,16))],2),Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["col s12",{m6:!e.formField.fullWidth}])},[e.showFormHelp?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",c,[Object(l["withDirectives"])(Object(l["createElementVNode"])("div",{class:"form-description"},Object(l["toDisplayString"])(e.formField.description),513),[[l["vShow"],e.formField.description]]),e.formField.inlineHelp||e.hasInlineHelpSlot?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",u,[e.inlineHelpComponent?(Object(l["openBlock"])(),Object(l["createBlock"])(Object(l["resolveDynamicComponent"])(e.inlineHelpComponent),Object(l["normalizeProps"])(Object(l["mergeProps"])({key:0},e.inlineHelpBind)),null,16)):Object(l["createCommentVNode"])("",!0),Object(l["renderSlot"])(e.$slots,"inline-help")],512)):Object(l["createCommentVNode"])("",!0),Object(l["withDirectives"])(Object(l["createElementVNode"])("span",null,[s,Object(l["createTextVNode"])(" "+Object(l["toDisplayString"])(e.translate("General_Default"))+": ",1),Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(e.defaultValuePrettyTruncated),1)],512),[[l["vShow"],e.showDefaultValue]])])):Object(l["createCommentVNode"])("",!0)],2)],512)),[[l["vShow"],e.showField]])}var m=n("19dc"),p={class:"checkbox"},b=["checked","id","name"],f=["innerHTML"];function g(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",p,[Object(l["createElementVNode"])("label",null,[Object(l["createElementVNode"])("input",Object(l["mergeProps"])({onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},e.uiControlAttributes,{value:1,checked:e.isChecked,type:"checkbox",id:e.name,name:e.name}),null,16,b),Object(l["createElementVNode"])("span",{innerHTML:e.$sanitize(e.title)},null,8,f)])])}var O=Object(l["defineComponent"])({props:{modelValue:[Boolean,Number,String],uiControlAttributes:Object,name:String,title:String},inheritAttrs:!1,emits:["update:modelValue"],methods:{onChange:function(e){var t=e.target.checked;this.modelValue!==t&&(e.target.checked=!t,this.$emit("update:modelValue",t))}},computed:{isChecked:function(){return!!this.modelValue&&"0"!==this.modelValue}}});O.render=g;var j=O,h={ref:"root"},v=["value","checked","onChange","id","name"];function y(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",h,[Object(l["withDirectives"])(Object(l["createElementVNode"])("label",{class:"fieldRadioTitle"},Object(l["toDisplayString"])(e.title),513),[[l["vShow"],e.title]]),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.availableOptions,(function(t,n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("p",{key:n,class:"checkbox"},[Object(l["createElementVNode"])("label",null,[Object(l["createElementVNode"])("input",Object(l["mergeProps"])({value:t.key,checked:!!e.checkboxStates[n],onChange:function(t){return e.onChange(n)}},e.uiControlAttributes,{type:"checkbox",id:"".concat(e.name).concat(t.key),name:t.name}),null,16,v),Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(t.value),1),Object(l["withDirectives"])(Object(l["createElementVNode"])("span",{class:"form-description"},Object(l["toDisplayString"])(t.description),513),[[l["vShow"],t.description]])])])})),128))],512)}function k(e){return S(e)||w(e)||C(e)||V()}function V(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function w(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e){if(Array.isArray(e))return E(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function N(e,t){return(e||[]).map((function(e){return t&&-1!==t.indexOf(e.key)}))}var A=Object(l["defineComponent"])({props:{modelValue:Array,name:String,title:String,availableOptions:Array,uiControlAttributes:Object,type:String},inheritAttrs:!1,emits:["update:modelValue"],computed:{checkboxStates:function(){return N(this.availableOptions,this.modelValue)}},mounted:function(){window.Materialize.updateTextFields()},methods:{onChange:function(e){var t=k(this.checkboxStates);t[e]=!t[e];var n=this.availableOptions||{},o=[];Object.values(n).forEach((function(e,n){t[n]&&o.push(e.key)}));var i=this.$refs.root.querySelectorAll("input").item(e);i.checked=!i.checked,this.$emit("update:modelValue",o)}}});A.render=y;var B=A,P={class:"expandableSelector"},x=Object(l["createElementVNode"])("svg",{class:"caret",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},[Object(l["createElementVNode"])("path",{d:"M7 10l5 5 5-5z"}),Object(l["createElementVNode"])("path",{d:"M0 0h24v24H0z",fill:"none"})],-1),T=["value"],D={class:"expandableList z-depth-2"},F={class:"searchContainer"},M={class:"collection firstLevel"},_=["onClick"],U={class:"collection secondLevel"},L=["onClick"],H={class:"primary-content"},$=["title"];function I(e,t,n,o,i,r){var a=Object(l["resolveDirective"])("focus-if"),c=Object(l["resolveDirective"])("focus-anywhere-but-here");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",P,[Object(l["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(t){return e.showSelect=!e.showSelect}),class:"select-wrapper"},[x,Object(l["createElementVNode"])("input",{type:"text",class:"select-dropdown",readonly:"readonly",value:e.modelValueText},null,8,T)]),Object(l["withDirectives"])(Object(l["createElementVNode"])("div",D,[Object(l["createElementVNode"])("div",F,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"text",placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t}),class:"expandableSearch browser-default"},null,512),[[l["vModelText"],e.searchTerm],[a,e.showSelect]])]),Object(l["createElementVNode"])("ul",M,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.availableOptions,(function(t,n){return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:"collection-item",key:n},[Object(l["createElementVNode"])("h4",{class:"expandableListCategory",onClick:function(n){return e.onCategoryClicked(t)}},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(t.group)+" ",1),Object(l["createElementVNode"])("span",{class:Object(l["normalizeClass"])(["secondary-content",{"icon-arrow-right":e.showCategory!==t.group,"icon-arrow-bottom":e.showCategory===t.group}])},null,2)],8,_),Object(l["withDirectives"])(Object(l["createElementVNode"])("ul",U,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(t.values.filter((function(t){return-1!==t.value.toLowerCase().indexOf(e.searchTerm.toLowerCase())})),(function(t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("li",{class:"expandableListItem collection-item valign-wrapper",key:t.key,onClick:function(n){return e.onValueClicked(t)}},[Object(l["createElementVNode"])("span",H,Object(l["toDisplayString"])(t.value),1),Object(l["withDirectives"])(Object(l["createElementVNode"])("span",{title:t.tooltip,class:"secondary-content icon-help"},null,8,$),[[l["vShow"],t.tooltip]])],8,L)})),128))],512),[[l["vShow"],e.showCategory===t.group||e.searchTerm]])],512)),[[l["vShow"],t.values.filter((function(t){return-1!==t.value.toLowerCase().indexOf(e.searchTerm.toLowerCase())})).length]])})),128))])],512),[[l["vShow"],e.showSelect]])],512)),[[c,{blur:e.onBlur}]])}function z(e){var t=[];if(!e)return t;var n={};return Object.values(e).forEach((function(e){var t=e,o=t.group||"";o in n&&n[o]||(n[o]={values:[],group:o});var i={key:t.key,value:t.value};"tooltip"in t&&t.tooltip&&(i.tooltip=t.tooltip),n[o].values.push(i)})),Object.values(n).forEach((function(e){e.values.length&&t.push(e)})),t}var q=Object(l["defineComponent"])({props:{modelValue:[Number,String],availableOptions:Array,title:String},directives:{FocusAnywhereButHere:m["FocusAnywhereButHere"],FocusIf:m["FocusIf"]},inheritAttrs:!1,emits:["update:modelValue"],data:function(){return{showSelect:!1,searchTerm:"",showCategory:""}},computed:{modelValueText:function(){if(this.title)return this.title;var e,t=this.modelValue,n=this.availableOptions||[];return n.some((function(n){return e=n.values.find((function(e){return e.key===t})),e})),e?e.value?"".concat(e.value):"":t?"".concat(t):""}},methods:{onBlur:function(){this.showSelect=!1},onCategoryClicked:function(e){this.showCategory===e.group?this.showCategory="":this.showCategory=e.group},onValueClicked:function(e){this.$emit("update:modelValue",e.key),this.showSelect=!1}}});q.render=I;var G=q,K=["for","innerHTML"];function R(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("FieldArray");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,K),Object(l["createVNode"])(a,{name:e.name,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onValueUpdate(t)}),field:e.uiControlAttributes.field},null,8,["name","model-value","field"])])}var W=Object(l["defineComponent"])({components:{FieldArray:m["FieldArray"]},props:{name:String,title:String,modelValue:null,uiControlAttributes:Object},inheritAttrs:!1,emits:["update:modelValue"],methods:{onValueUpdate:function(e){this.$emit("update:modelValue",e)}}});W.render=R;var Z=W,Y={class:"btn"},J=["for","innerHTML"],Q=["name","id"],X={class:"file-path-wrapper"},ee=["value"];function te(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("div",Y,[Object(l["createElementVNode"])("span",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,J),Object(l["createElementVNode"])("input",{ref:"fileInput",name:e.name,type:"file",id:e.name,onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},null,40,Q)]),Object(l["createElementVNode"])("div",X,[Object(l["createElementVNode"])("input",{class:"file-path validate",value:e.filePath,type:"text"},null,8,ee)])])}var ne=Object(l["defineComponent"])({props:{name:String,title:String,modelValue:[String,File]},inheritAttrs:!1,emits:["update:modelValue"],watch:{modelValue:function(e){if(!e||""===e){var t=this.$refs.fileInput;t.value=""}}},methods:{onChange:function(e){var t=e.target.files;if(t){var n=t.item(0);this.$emit("update:modelValue",n)}}},computed:{filePath:function(){if(this.modelValue instanceof File)return this.$refs.fileInput.value}}});ne.render=te;var oe=ne,ie=["type","name","value"];function le(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("input",{type:e.uiControl,name:e.name,value:e.modelValue,onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},null,40,ie)])}var re=Object(l["defineComponent"])({props:{modelValue:null,uiControl:String,name:String},inheritAttrs:!1,emits:["update:modelValue"],methods:{onChange:function(e){this.$emit("update:modelValue",e.target.value)}}});re.render=le;var ae=re,ce={class:"fieldMultiTuple"},ue=["for","innerHTML"];function se(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("MultiPairField");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",ce,[Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,ue),Object(l["createVNode"])(a,{name:e.name,"model-value":e.modelValue,"onUpdate:modelValue":e.onUpdateValue,field1:e.uiControlAttributes.field1,field2:e.uiControlAttributes.field2,field3:e.uiControlAttributes.field3,field4:e.uiControlAttributes.field4},null,8,["name","model-value","onUpdate:modelValue","field1","field2","field3","field4"])])}var de=Object(l["defineComponent"])({props:{name:String,title:String,modelValue:null,uiControlAttributes:Object},inheritAttrs:!1,components:{MultiPairField:m["MultiPairField"]},emits:["update:modelValue"],methods:{onUpdateValue:function(e){this.$emit("update:modelValue",e)}}});de.render=se;var me=de,pe=["type","id","name","value"],be=["for","innerHTML"];function fe(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("input",Object(l["mergeProps"])({class:"control_".concat(e.uiControl),type:e.uiControl,id:e.name,name:e.name,value:e.modelValueFormatted,onKeydown:t[0]||(t[0]=function(t){return e.onChange(t)}),onChange:t[1]||(t[1]=function(t){return e.onChange(t)})},e.uiControlAttributes),null,16,pe),Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,be)],64)}var ge=Object(l["defineComponent"])({props:{uiControl:String,name:String,title:String,modelValue:[Number,String],uiControlAttributes:Object},inheritAttrs:!1,emits:["update:modelValue"],created:function(){this.onChange=Object(m["debounce"])(this.onChange.bind(this),50)},methods:{onChange:function(e){var t=this,n=parseFloat(e.target.value);this.$emit("update:modelValue",n),Object(l["nextTick"])((function(){e.target.value!==t.modelValueFormatted&&(e.target.value=t.modelValueFormatted)}))}},mounted:function(){window.Materialize.updateTextFields()},watch:{modelValue:function(){setTimeout((function(){window.Materialize.updateTextFields()}))}},computed:{modelValueFormatted:function(){return(this.modelValue||"").toString()}}});ge.render=fe;var Oe=ge,je={ref:"root"},he=["value","id","name","disabled","checked"];function ve(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",je,[Object(l["withDirectives"])(Object(l["createElementVNode"])("label",{class:"fieldRadioTitle"},Object(l["toDisplayString"])(e.title),513),[[l["vShow"],e.title]]),(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.availableOptions||[],(function(n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("p",{key:n.key,class:"radio"},[Object(l["createElementVNode"])("label",null,[Object(l["createElementVNode"])("input",Object(l["mergeProps"])({value:n.key,onChange:t[0]||(t[0]=function(t){return e.onChange(t)}),type:"radio",id:"".concat(e.name).concat(n.key),name:e.name,disabled:n.disabled||e.disabled},e.uiControlAttributes,{checked:e.modelValue===n.key||"".concat(e.modelValue)===n.key}),null,16,he),Object(l["createElementVNode"])("span",null,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(n.value)+" ",1),Object(l["withDirectives"])(Object(l["createElementVNode"])("span",{class:"form-description"},Object(l["toDisplayString"])(n.description),513),[[l["vShow"],n.description]])])])])})),128))],512)}var ye=Object(l["defineComponent"])({props:{title:String,availableOptions:Array,name:String,disabled:Boolean,uiControlAttributes:Object,modelValue:[String,Number]},inheritAttrs:!1,emits:["update:modelValue"],methods:{onChange:function(e){var t=this;this.$refs.root.querySelectorAll("input").forEach((function(e,n){var o;if(null!==(o=t.availableOptions)&&void 0!==o&&o[n]){var i=t.availableOptions[n].key;e.checked=t.modelValue===i||"".concat(t.modelValue)===i}})),this.$emit("update:modelValue",e.target.value)}}});ye.render=ve;var ke=ye;function Ve(e,t){return Ne(e)||Ee(e,t)||we(e,t)||Ce()}function Ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function we(e,t){if(e){if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Ee(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function Ne(e){if(Array.isArray(e))return e}var Ae={key:0,class:"matomo-field-select"},Be=["multiple","name"],Pe=["label"],xe=["value","selected","disabled"],Te=["for","innerHTML"],De={key:1,class:"matomo-field-select"},Fe=["multiple","name"],Me=["value","selected","disabled"],_e=["for","innerHTML"];function Ue(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[e.groupedOptions?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ae,[Object(l["createElementVNode"])("select",Object(l["mergeProps"])({ref:"select",class:"grouped",multiple:e.multiple,name:e.name,onChange:t[0]||(t[0]=function(t){return e.onChange(t)})},e.uiControlAttributes),[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.groupedOptions,(function(t){var n=Ve(t,2),o=n[0],i=n[1];return Object(l["openBlock"])(),Object(l["createElementBlock"])("optgroup",{key:o,label:o},[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(i,(function(t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t.key,value:"string:".concat(t.key),selected:e.multiple?e.modelValue&&-1!==e.modelValue.indexOf(t.key):e.modelValue===t.key,disabled:t.disabled},Object(l["toDisplayString"])(t.value),9,xe)})),128))],8,Pe)})),128))],16,Be),Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Te)])):Object(l["createCommentVNode"])("",!0),!e.groupedOptions&&e.options?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",De,[Object(l["createElementVNode"])("select",Object(l["mergeProps"])({class:"ungrouped",ref:"select",multiple:e.multiple,name:e.name,onChange:t[1]||(t[1]=function(t){return e.onChange(t)})},e.uiControlAttributes),[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.options,(function(t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("option",{key:t.key,value:"string:".concat(t.key),selected:e.multiple?e.modelValue&&-1!==e.modelValue.indexOf(t.key):e.modelValue===t.key,disabled:t.disabled},Object(l["toDisplayString"])(t.value),9,Me)})),128))],16,Fe),Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,_e)])):Object(l["createCommentVNode"])("",!0)],64)}function Le(e){return Ie(e)||$e(e)||Ge(e)||He()}function He(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $e(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ie(e){if(Array.isArray(e))return Ke(e)}function ze(e,t){return We(e)||Re(e,t)||Ge(e,t)||qe()}function qe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ge(e,t){if(e){if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Re(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function We(e){if(Array.isArray(e))return e}function Ze(e){return Ze="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Ye(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;if(e){var l=window.$(e);if(Array.from(e.options).forEach((function(e){e.selected=i?!!t&&-1!==t.indexOf(e.value.replace(/^string:/,"")):"string:".concat(t)===e.value})),l.formSelect(o),n){var r=l.closest(".select-wrapper").find("input");r.attr("placeholder",n)}}}function Je(e){return!Array.isArray(e)&&"object"===Ze(e)&&Object.values(e).some((function(e){return"object"===Ze(e)}))}function Qe(e,t){return e.some((function(e){return e.key===t}))}function Xe(e,t,n){if(!e)return[];var o=!0,i=e;Je(i)||(i={"":e},o=!1);var l=[];return Object.entries(i).forEach((function(e){var n=ze(e,2),i=n[0],r=n[1];Object.entries(r).forEach((function(e){var n=ze(e,2),r=n[0],a=n[1];if(a&&"object"===Ze(a)&&"undefined"!==typeof a.key)l.push(a);else{var c=r;"integer"===t&&"string"===typeof r&&(c=parseInt(r,10)),l.push({group:o?i:void 0,key:c,value:a})}}))})),null!==n&&void 0!==n&&n.placeholder&&!Qe(l,"")?[{key:"",value:""}].concat(l):l}function et(e){return"string"===typeof e?e.replace(/^string:/,""):e}var tt=Object(l["defineComponent"])({props:{modelValue:null,multiple:Boolean,name:String,title:String,availableOptions:Array,uiControlAttributes:Object,uiControlOptions:Object},inheritAttrs:!1,emits:["update:modelValue"],computed:{options:function(){var e=this.availableOptions;return!e||Qe(e,"")||"undefined"!==typeof this.modelValue&&null!==this.modelValue&&""!==this.modelValue?e:[{key:"",value:this.modelValue,group:this.hasGroups?"":void 0}].concat(Le(e))},hasGroups:function(){var e=this.availableOptions;return e&&e[0]&&"undefined"!==typeof e[0].group},groupedOptions:function(){var e=this.options;if(!this.hasGroups||!e)return null;var t={};e.forEach((function(e){var n=e.group;t[n]=t[n]||[],t[n].push(e)}));var n=Object.entries(t);return n.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),n}},methods:{onChange:function(e){var t,n=e.target;this.multiple?(t=Array.from(n.options).filter((function(e){return e.selected})).map((function(e){return e.value})),t=t.map((function(e){return et(e)}))):(t=n.value,t=et(t)),this.onModelValueChange(this.modelValue),this.$emit("update:modelValue",t)},onModelValueChange:function(e){var t=this;window.$(this.$refs.select).val(e),setTimeout((function(){var n;Ye(t.$refs.select,e,null===(n=t.uiControlAttributes)||void 0===n?void 0:n.placeholder,t.uiControlOptions,t.multiple)}))}},watch:{modelValue:function(e){this.onModelValueChange(e)},"uiControlAttributes.disabled":{handler:function(e,t){var n=this;setTimeout((function(){var o;e!==t&&Ye(n.$refs.select,n.modelValue,null===(o=n.uiControlAttributes)||void 0===o?void 0:o.placeholder,n.uiControlOptions,n.multiple)}))}},availableOptions:function(e,t){var n=this;e!==t&&setTimeout((function(){var e;Ye(n.$refs.select,n.modelValue,null===(e=n.uiControlAttributes)||void 0===e?void 0:e.placeholder,n.uiControlOptions,n.multiple)}))}},mounted:function(){var e=this;setTimeout((function(){var t;Ye(e.$refs.select,e.modelValue,null===(t=e.uiControlAttributes)||void 0===t?void 0:t.placeholder,e.uiControlOptions,e.multiple)}))}});tt.render=Ue;var nt=tt,ot=["for","innerHTML"],it={class:"sites_autocomplete"};function lt(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("SiteSelector");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("label",{for:e.name,class:"siteSelectorLabel",innerHTML:e.$sanitize(e.title)},null,8,ot),Object(l["createElementVNode"])("div",it,[Object(l["createVNode"])(a,Object(l["mergeProps"])({"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onChange(t)}),id:e.name,"show-all-sites-item":e.uiControlAttributes.showAllSitesItem||!1,"switch-site-on-select":!1,"show-selected-site":!0,"only-sites-with-admin-access":e.uiControlAttributes.onlySitesWithAdminAccess||!1},e.uiControlAttributes),null,16,["model-value","id","show-all-sites-item","only-sites-with-admin-access"])])])}var rt=Object(l["defineComponent"])({props:{name:String,title:String,modelValue:Object,uiControlAttributes:Object},inheritAttrs:!1,components:{SiteSelector:m["SiteSelector"]},emits:["update:modelValue"],methods:{onChange:function(e){this.$emit("update:modelValue",e)}}});rt.render=lt;var at=rt,ct=["type","id","name","value"],ut=["for","innerHTML"];function st(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("input",Object(l["mergeProps"])({class:"control_".concat(e.uiControl),type:e.uiControl,id:e.name,name:e.name,value:e.modelValueText,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)})},e.uiControlAttributes),null,16,ct),Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,ut)],64)}var dt=Object(l["defineComponent"])({props:{title:String,name:String,uiControlAttributes:Object,modelValue:[String,Number],uiControl:String},inheritAttrs:!1,emits:["update:modelValue"],computed:{modelValueText:function(){return"undefined"===typeof this.modelValue||null===this.modelValue?"":this.modelValue.toString()}},created:function(){this.onKeydown=Object(m["debounce"])(this.onKeydown.bind(this),50)},mounted:function(){setTimeout((function(){window.Materialize.updateTextFields()}))},watch:{modelValue:function(){setTimeout((function(){window.Materialize.updateTextFields()}))}},methods:{onKeydown:function(e){var t=this,n=e.target.value;this.modelValue!==n&&(this.$emit("update:modelValue",n),Object(l["nextTick"])((function(){e.target.value!==t.modelValueText&&(e.target.value=t.modelValueText)})))}}});dt.render=st;var mt=dt,pt=["for","innerHTML"],bt=["type","name","value"];function ft(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,pt),Object(l["createElementVNode"])("input",Object(l["mergeProps"])({class:"control_".concat(e.uiControl),type:e.uiControl,name:e.name,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)}),value:e.concattedValues},e.uiControlAttributes),null,16,bt)])}var gt=Object(l["defineComponent"])({props:{name:String,title:String,uiControl:String,modelValue:Array,uiControlAttributes:Object},inheritAttrs:!1,computed:{concattedValues:function(){return"string"===typeof this.modelValue?this.modelValue:(this.modelValue||[]).join(", ")}},emits:["update:modelValue"],created:function(){this.onKeydown=Object(m["debounce"])(this.onKeydown.bind(this),50)},methods:{onKeydown:function(e){var t=this,n=e.target.value.split(",").map((function(e){return e.trim()}));n.join(", ")!==this.concattedValues&&(this.$emit("update:modelValue",n),Object(l["nextTick"])((function(){e.target.value!==t.concattedValues&&(e.target.value=t.concattedValues)})))}}});gt.render=ft;var Ot=gt,jt=["name","id","value"],ht=["for","innerHTML"];function vt(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createElementVNode"])("textarea",Object(l["mergeProps"])({name:e.name},e.uiControlAttributes,{id:e.name,value:e.modelValueText,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)}),class:"materialize-textarea",ref:"textarea"}),null,16,jt),Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,ht)],64)}var yt=Object(l["defineComponent"])({props:{name:String,uiControlAttributes:Object,modelValue:String,title:String},inheritAttrs:!1,emits:["update:modelValue"],created:function(){this.onKeydown=Object(m["debounce"])(this.onKeydown.bind(this),50)},methods:{onKeydown:function(e){var t=this,n=e.target.value;e.target.value=this.modelValueText,this.$emit("update:modelValue",n),Object(l["nextTick"])((function(){e.target.value!==t.modelValueText&&(e.target.value=t.modelValueText)}))}},computed:{modelValueText:function(){return this.modelValue||""}},watch:{modelValue:function(){var e=this;setTimeout((function(){window.Materialize.textareaAutoResize(e.$refs.textarea),window.Materialize.updateTextFields()}))}},mounted:function(){var e=this;setTimeout((function(){window.Materialize.textareaAutoResize(e.$refs.textarea),window.Materialize.updateTextFields()}))}});yt.render=vt;var kt=yt,Vt=["for","innerHTML"],Ct=["name","value"];function wt(e,t,n,o,i,r){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("label",{for:e.name,innerHTML:e.$sanitize(e.title)},null,8,Vt),Object(l["createElementVNode"])("textarea",Object(l["mergeProps"])({ref:"textarea",name:e.name},e.uiControlAttributes,{value:e.concattedValue,onKeydown:t[0]||(t[0]=function(t){return e.onKeydown(t)}),onChange:t[1]||(t[1]=function(t){return e.onKeydown(t)}),class:"materialize-textarea"}),null,16,Ct)])}var St="\n",Et=Object(l["defineComponent"])({props:{name:String,title:String,uiControlAttributes:Object,modelValue:[Array,String]},inheritAttrs:!1,emits:["update:modelValue"],computed:{concattedValue:function(){return"string"===typeof this.modelValue?this.modelValue:(this.modelValue||[]).join(St)}},created:function(){this.onKeydown=Object(m["debounce"])(this.onKeydown.bind(this),50)},methods:{onKeydown:function(e){var t=this,n=e.target.value.split(St);n.join(St)!==this.concattedValue&&(this.$emit("update:modelValue",n),Object(l["nextTick"])((function(){e.target.value!==t.concattedValue&&(e.target.value=t.concattedValue)})))}},watch:{modelValue:function(e,t){var n=this;e!==t&&setTimeout((function(){n.$refs.textarea&&window.Materialize.textareaAutoResize(n.$refs.textarea),window.Materialize.updateTextFields()}))}},mounted:function(){var e=this;setTimeout((function(){e.$refs.textarea&&window.Materialize.textareaAutoResize(e.$refs.textarea),window.Materialize.updateTextFields()}))}});Et.render=wt;var Nt=Et;function At(e){return At="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Bt(e,t){return Ft(e)||Dt(e,t)||xt(e,t)||Pt()}function Pt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xt(e,t){if(e){if("string"===typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function Dt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function Ft(e){if(Array.isArray(e))return e}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Mt(e,t){if(!e)return[];var n=[];return Object.entries(e).forEach((function(e){var o=Bt(e,2),i=o[0],l=o[1];if(l&&"object"===At(l)&&"undefined"!==typeof l.key)n.push(l);else{var r=i;"integer"===t&&"string"===typeof i&&(r=parseInt(r,10)),n.push({key:r,value:l})}})),n}function _t(e){return _t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}var Ut=["password","url","search","email"],Lt=["textarea","checkbox","text"],Ht={checkbox:"FieldCheckbox","expandable-select":"FieldExpandableSelect","field-array":"FieldFieldArray",file:"FieldFile",hidden:"FieldHidden",multiselect:"FieldSelect",multituple:"FieldMultituple",number:"FieldNumber",radio:"FieldRadio",select:"FieldSelect",site:"FieldSite",text:"FieldText",textarea:"FieldTextarea"},$t={FieldSelect:Xe,FieldCheckboxArray:Mt,FieldRadio:Mt,FieldExpandableSelect:z},It=Object(l["defineComponent"])({props:{modelValue:null,formField:{type:Object,required:!0}},emits:["update:modelValue"],components:{FieldCheckbox:j,FieldCheckboxArray:B,FieldExpandableSelect:G,FieldFieldArray:Z,FieldFile:oe,FieldHidden:ae,FieldMultituple:me,FieldNumber:Oe,FieldRadio:ke,FieldSelect:nt,FieldSite:at,FieldText:mt,FieldTextArray:Ot,FieldTextarea:kt,FieldTextareaArray:Nt},setup:function(e){var t=Object(l["ref"])(null),n=function(e){var n;e&&t.value&&"function"!==typeof e.render&&(n="string"===typeof e?0===e.indexOf("#")?window.$(e):window.vueSanitize(e):e,window.$(t.value).html("").append(n))};return Object(l["watch"])((function(){return e.formField.inlineHelp}),n),Object(l["onMounted"])((function(){n(e.formField.inlineHelp)})),{inlineHelp:t}},computed:{inlineHelpComponent:function(){var e=this.formField,t=e.inlineHelp;if(t&&"function"===typeof t.render)return e.inlineHelp},inlineHelpBind:function(){return this.inlineHelpComponent?this.formField.inlineHelpBind:void 0},childComponent:function(){var e=this.formField;if(e.component){var t=e.component;if(e.component.plugin){var n=e.component,o=n.plugin,i=n.name;if(!o||!i)throw new Error("Invalid component property given to FormField directive, must be {plugin: '...',name: '...'}");t=Object(m["useExternalPluginComponent"])(o,i)}return Object(l["markRaw"])(t)}var r=e.uiControl,a=Ht[r];return-1!==Ut.indexOf(r)&&(a="FieldText"),"array"===this.formField.type&&-1!==Lt.indexOf(r)&&(a="".concat(a,"Array")),a},extraChildComponentParams:function(){return"multiselect"===this.formField.uiControl?{multiple:!0}:{}},showFormHelp:function(){return this.formField.description||this.formField.inlineHelp||this.showDefaultValue||this.hasInlineHelpSlot},showDefaultValue:function(){return this.defaultValuePretty&&"checkbox"!==this.formField.uiControl&&"radio"!==this.formField.uiControl},showField:function(){return!(this.formField&&this.formField.condition&&this.formField.condition instanceof Function)||this.formField.condition()},processedModelValue:function(){var e=this.formField;if("boolean"===e.type){var t=this.modelValue&&this.modelValue>0&&"0"!==this.modelValue;if("checkbox"===e.uiControl)return t;if("radio"===e.uiControl)return t?"1":"0"}return this.modelValue},defaultValue:function(){var e=this.formField.defaultValue;return Array.isArray(e)?e.join(","):e},availableOptions:function(){var e=this.childComponent;if("string"!==typeof e)return null;var t=this.formField;return t.availableValues&&$t[e]?$t[e](t.availableValues,t.type,t.uiControlAttributes):null},defaultValuePretty:function(){var e=this.formField,t=e.defaultValue,n=this.availableOptions;if("string"===typeof t&&t){var o=null;try{o=JSON.parse(t)}catch(l){}if(null!==o&&"object"===_t(o))return""}if(!Array.isArray(n))return Array.isArray(t)?"":t?"".concat(t):"";var i=[];return Array.isArray(t)||(t=[t]),(n||[]).forEach((function(e){"undefined"!==typeof e.value&&-1!==t.indexOf(e.key)&&i.push(e.value)})),i.join(", ")},defaultValuePrettyTruncated:function(){return this.defaultValuePretty.substring(0,50)},hasInlineHelpSlot:function(){var e,t;if(!this.$slots["inline-help"])return!1;var n=this.$slots["inline-help"]();return!(null===n||void 0===n||null===(e=n[0])||void 0===e||null===(t=e.children)||void 0===t||!t.length)}},methods:{onChange:function(e){this.$emit("update:modelValue",e)}}});It.render=d;var zt=It;function qt(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("FormField");return Object(l["openBlock"])(),Object(l["createBlock"])(a,{"form-field":e.field,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.onChange(t)})},{"inline-help":Object(l["withCtx"])((function(){return[Object(l["renderSlot"])(e.$slots,"inline-help")]})),_:3},8,["form-field","model-value"])}var Gt={multiselect:"array",checkbox:"boolean",site:"object",number:"integer"},Kt=Object(l["defineComponent"])({props:{modelValue:null,uicontrol:String,name:String,defaultValue:null,options:[Object,Array],description:String,introduction:String,title:String,inlineHelp:[String,Object],inlineHelpBind:Object,disabled:Boolean,uiControlAttributes:{type:Object,default:function(){return{}}},uiControlOptions:{type:Object,default:function(){return{}}},autocomplete:Boolean,condition:Function,varType:String,autofocus:Boolean,tabindex:Number,fullWidth:Boolean,maxlength:Number,required:Boolean,placeholder:String,rows:Number,min:Number,max:Number,component:null,templateFile:String},emits:["update:modelValue"],components:{FormField:zt},computed:{type:function(){if(this.varType)return this.varType;var e=this.uicontrol;return e&&Gt[e]?Gt[e]:"string"},field:function(){return{uiControl:this.uicontrol,type:this.type,name:this.name,defaultValue:this.defaultValue,availableValues:this.options,description:this.description,introduction:this.introduction,inlineHelp:this.inlineHelp,inlineHelpBind:this.inlineHelpBind,title:this.title,component:this.component,templateFile:this.templateFile,uiControlAttributes:Object.assign(Object.assign({},this.uiControlAttributes),{},{disabled:this.disabled,autocomplete:this.autocomplete,tabindex:this.tabindex,autofocus:this.autofocus,rows:this.rows,required:this.required,maxlength:this.maxlength,placeholder:this.placeholder,min:this.min,max:this.max}),fullWidth:this.fullWidth,uiControlOptions:this.uiControlOptions}}},methods:{onChange:function(e){this.$emit("update:modelValue",e)}}});Kt.render=qt;var Rt,Wt=Kt,Zt={class:"pluginSettings",ref:"root"},Yt=["id"],Jt={class:"card-content"},Qt=["id"],Xt=["onClick","disabled","value"],en={class:"confirm-password-modal modal"},tn={class:"modal-content"},nn={class:"modal-footer"},on=["disabled"];function ln(e,t,n,o,i,r){var a=this,c=Object(l["resolveComponent"])("GroupedSettings"),u=Object(l["resolveComponent"])("ActivityIndicator"),s=Object(l["resolveComponent"])("Field");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Zt,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.settingsPerPlugin,(function(t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"card",id:"".concat(t.pluginName,"PluginSettings"),key:"".concat(t.pluginName,"PluginSettings")},[Object(l["createElementVNode"])("div",Jt,[Object(l["createElementVNode"])("h2",{class:"card-title",id:t.pluginName},Object(l["toDisplayString"])(t.title),9,Qt),Object(l["createVNode"])(c,{"group-name":t.pluginName,settings:t.settings,"all-setting-values":e.settingValues,onChange:function(n){return e.settingValues["".concat(t.pluginName,".").concat(n.name)]=n.value}},null,8,["group-name","settings","all-setting-values","onChange"]),Object(l["createElementVNode"])("input",{type:"button",onClick:function(n){return e.saveSetting(t.pluginName)},disabled:e.isLoading,class:"pluginsSettingsSubmit btn",value:e.translate("General_Save")},null,8,Xt),Object(l["createVNode"])(u,{loading:e.isLoading||e.isSaving[t.pluginName]},null,8,["loading"])])],8,Yt)})),128)),Object(l["createElementVNode"])("div",en,[Object(l["createElementVNode"])("div",tn,[Object(l["createElementVNode"])("h2",null,Object(l["toDisplayString"])(e.translate("UsersManager_ConfirmWithPassword")),1),Object(l["createElementVNode"])("div",null,[Object(l["createVNode"])(s,{modelValue:e.passwordConfirmation,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.passwordConfirmation=t}),uicontrol:"password",name:"currentUserPassword",autocomplete:!1,"full-width":!0,title:e.translate("UsersManager_YourCurrentPassword")},null,8,["modelValue","title"])])]),Object(l["createElementVNode"])("div",nn,[Object(l["createElementVNode"])("a",{href:"",class:"modal-action modal-close btn",disabled:e.passwordConfirmation?void 0:"disabled",onClick:t[1]||(t[1]=function(t){t.preventDefault(),e.save(a.settingsToSave)})},Object(l["toDisplayString"])(e.translate("General_Yes")),9,on),Object(l["createElementVNode"])("a",{href:"",class:"modal-action modal-close modal-no",onClick:t[2]||(t[2]=function(e){return e.preventDefault()})},Object(l["toDisplayString"])(e.translate("General_No")),1)])])],512)}function rn(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("GroupedSetting");return Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.settings,(function(t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:"".concat(e.groupPrefix).concat(t.name)},[Object(l["createVNode"])(a,{"model-value":e.allSettingValues["".concat(e.groupPrefix).concat(t.name)],"onUpdate:modelValue":function(n){return e.$emit("change",{name:t.name,value:n})},setting:t,"condition-values":e.settingValues},null,8,["model-value","onUpdate:modelValue","setting","condition-values"])])})),128)}function an(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("FormField");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createVNode"])(a,{"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.changeValue(t)}),"form-field":e.setting},null,8,["model-value","form-field"])],512)),[[l["vShow"],e.showField]])}var cn=Object(l["defineComponent"])({props:{setting:{type:Object,required:!0},modelValue:null,conditionValues:{type:Object,required:!0}},components:{FormField:zt},emits:["update:modelValue"],computed:{showField:function(){var e=this.setting.condition;if(!e)return!0;if(!Rt){var t=m["Matomo"].helper.getAngularDependency("$rootScope");Rt=t.$new(!0)}return Rt.$eval(e,this.conditionValues)}},methods:{changeValue:function(e){this.$emit("update:modelValue",e)}}});cn.render=an;var un=cn;function sn(e,t){return fn(e)||bn(e,t)||mn(e,t)||dn()}function dn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mn(e,t){if(e){if("string"===typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function bn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function fn(e){if(Array.isArray(e))return e}var gn=Object(l["defineComponent"])({props:{groupName:String,settings:{type:Array,required:!0},allSettingValues:{type:Object,required:!0}},emits:["change"],components:{GroupedSetting:un},computed:{settingValues:function(){var e=this,t=Object.entries(this.allSettingValues).filter((function(t){var n=sn(t,1),o=n[0];if(e.groupName){var i=o.split("."),l=sn(i,1),r=l[0];if(r!==e.groupName)return!1}return!0})).map((function(t){var n=sn(t,2),o=n[0],i=n[1];return e.groupName?[o.split(".")[1],i]:[o,i]}));return Object.fromEntries(t)},groupPrefix:function(){return this.groupName?"".concat(this.groupName,"."):""}}});gn.render=rn;var On=gn;function jn(e,t){return Vn(e)||kn(e,t)||vn(e,t)||hn()}function hn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vn(e,t){if(e){if("string"===typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(e,t):void 0}}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function kn(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function Vn(e){if(Array.isArray(e))return e}var Cn=window,wn=Cn.$,Sn=Object(l["defineComponent"])({props:{mode:String},components:{ActivityIndicator:m["ActivityIndicator"],Field:Wt,GroupedSettings:On},data:function(){return{isLoading:!0,isSaving:{},passwordConfirmation:"",settingsToSave:null,settingsPerPlugin:[],settingValues:{}}},created:function(){var e=this;m["AjaxHelper"].fetch({method:this.apiMethod}).then((function(t){e.isLoading=!1,e.settingsPerPlugin=t,t.forEach((function(t){t.settings.forEach((function(n){e.settingValues["".concat(t.pluginName,".").concat(n.name)]=n.value}))})),Object(m["scrollToAnchorInUrl"])(),e.addSectionsToTableOfContents()})).catch((function(){e.isLoading=!1}))},computed:{apiMethod:function(){return"admin"===this.mode?"CorePluginsAdmin.getSystemSettings":"CorePluginsAdmin.getUserSettings"},saveApiMethod:function(){return"admin"===this.mode?"CorePluginsAdmin.setSystemSettings":"CorePluginsAdmin.setUserSettings"}},methods:{addSectionsToTableOfContents:function(){var e=wn("#generalSettingsTOC");if(e.length){var t=this.settingsPerPlugin;t.forEach((function(t){var n=t.pluginName,o=t.settings;n&&("CoreAdminHome"===n&&o?o.filter((function(e){return e.introduction})).forEach((function(t){e.append('<a href="#/'.concat(n,'PluginSettings">').concat(t.introduction,"</a> "))})):e.append('<a href="#/'.concat(n,'">').concat(n.replace(/([A-Z])/g," $1").trim(),"</a> ")))}))}},saveSetting:function(e){"admin"===this.mode?this.showPasswordConfirmModal(e):this.save(e)},showPasswordConfirmModal:function(e){var t=this;this.settingsToSave=e;var n=this.$refs.root,o=wn(n),i=function(n){var i=n.keyCode?n.keyCode:n.which;13===i&&(o.find(".confirm-password-modal").modal("close"),t.save(e))};o.find(".confirm-password-modal").modal({dismissible:!1,onOpenEnd:function(){var e=".modal.open #currentUserPassword";wn(e).focus(),wn(e).off("keypress").keypress(i)}}).modal("open")},save:function(e){var t=this,n=this.saveApiMethod;this.isSaving[e]=!0;var o=this.getValuesForPlugin(e);m["AjaxHelper"].post({method:n},{settingValues:o,passwordConfirmation:this.passwordConfirmation}).then((function(){t.isSaving[e]=!1;var n=m["NotificationsStore"].show({message:Object(m["translate"])("CoreAdminHome_PluginSettingsSaveSuccess"),id:"generalSettings",context:"success",type:"transient"});m["NotificationsStore"].scrollToNotification(n)})).catch((function(){t.isSaving[e]=!1})),this.passwordConfirmation="",this.settingsToSave=null},getValuesForPlugin:function(e){var t={};return t[e]||(t[e]=[]),Object.entries(this.settingValues).forEach((function(n){var o=jn(n,2),i=o[0],l=o[1],r=i.split("."),a=jn(r,2),c=a[0],u=a[1];if(c===e){var s=l;!1===s?s="0":!0===s&&(s="1"),t[c].push({name:u,value:s})}})),t}}});Sn.render=ln;var En=Sn,Nn=window,An=Nn.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Bn(e){return e.find(".origin a.active").data("filter-origin")}function Pn(e){return e.find(".status a.active").data("filter-status")}function xn(e,t){var n="#plugins tr";return n+="all"===e?"[data-filter-origin]":"[data-filter-origin=".concat(e,"]"),n+="all"===t?"[data-filter-status]":"[data-filter-status=".concat(t,"]"),An(n)}function Tn(e,t,n,o){var i=xn(n,o).length,l=" (".concat(i,")");e.find("".concat(t," .counter")).text(l)}function Dn(e){var t=Bn(e),n=Pn(e);Tn(e,'[data-filter-status="all"]',t,"all"),Tn(e,'[data-filter-status="active"]',t,"active"),Tn(e,'[data-filter-status="inactive"]',t,"inactive"),Tn(e,'[data-filter-origin="all"]',"all",n),Tn(e,'[data-filter-origin="core"]',"core",n),Tn(e,'[data-filter-origin="official"]',"official",n),Tn(e,'[data-filter-origin="thirdparty"]',"thirdparty",n)}function Fn(e){var t=Bn(e),n=Pn(e),o=xn(t,n);An("#plugins tr[data-filter-origin][data-filter-status]").css("display","none"),o.css("display","table-row"),Dn(e)}function Mn(e,t){t.preventDefault(),An(t.target).siblings().removeClass("active"),An(t.target).addClass("active"),Fn(e)}function _n(e,t){t.preventDefault(),An(t.target).siblings().removeClass("active"),An(t.target).addClass("active"),Fn(e)}var Un={mounted:function(e){setTimeout((function(){Dn(An(e)),An(e).find(".status").on("click","a",Mn.bind(null,An(e))),An(e).find(".origin").on("click","a",_n.bind(null,An(e)))}))}},Ln=window,Hn=Ln.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function $n(e,t){t.preventDefault();var n=Hn(t.target).attr("href"),o=Hn(t.target).attr("data-plugin-name");if(n&&o){e.value.uninstallConfirmMessage||(e.value.uninstallConfirmMessage=Hn("#uninstallPluginConfirm").text());var i=(e.value.uninstallConfirmMessage||"").replace("%s",o);Hn("#uninstallPluginConfirm").text(i),m["Matomo"].helper.modalConfirm("#confirmUninstallPlugin",{yes:function(){window.location.href=n}})}}function In(e){e.preventDefault();var t=Hn(e.target).data("overlay-id");m["Matomo"].helper.modalConfirm("#".concat(t),{})}var zn={mounted:function(e,t){setTimeout((function(){t.value.uninstallConfirmMessage="",Hn(e).find(".uninstall").click($n.bind(null,t)),Hn(e).find(".plugin-donation-link").click(In)}))}},qn=window,Gn=qn.$;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function Kn(e){e.preventDefault(),m["Matomo"].helper.modalConfirm("#installPluginByUpload",{})}function Rn(e){var t=Gn("[name=pluginZip]"),n=t.val();n&&".zip"===n.slice(-4)?t.data("maxSize")>0&&t[0].files[0].size>1048576*t.data("maxSize")&&(e.preventDefault(),alert(Object(m["translate"])("CorePluginsAdmin_FileExceedsUploadLimit"))):(e.preventDefault(),alert(Object(m["translate"])("CorePluginsAdmin_NoZipFileSelected")))}var Wn={mounted:function(){setTimeout((function(){Gn(".uploadPlugin").click(Kn),Gn("#uploadPluginForm").submit(Rn)}))}},Zn={class:"matomo-save-button",style:{display:"inline-block"}},Yn=["disabled","value"];function Jn(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("ActivityIndicator");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Zn,[Object(l["createElementVNode"])("input",{type:"button",onClick:t[0]||(t[0]=function(t){return e.onConfirm(t)}),disabled:e.saving||e.disabled,class:"btn",value:e.value?e.value:e.translate("General_Save")},null,8,Yn),Object(l["createVNode"])(a,{loading:e.saving},null,8,["loading"])])}var Qn=Object(l["defineComponent"])({props:{saving:Boolean,value:String,disabled:Boolean},components:{ActivityIndicator:m["ActivityIndicator"]},emits:["confirm"],methods:{onConfirm:function(e){this.$emit("confirm",e)}}});Qn.render=Jn;var Xn=Qn,eo=window,to=eo.$,no={mounted:function(e){setTimeout((function(){to(e).find("input[type=text]").keypress((function(t){var n=t.keyCode||t.which;13===n&&to(e).find(".matomo-save-button input").triggerHandler("click")}))}))}},oo=["innerHTML"],io={key:1,style:{"margin-right":"3.5px"}},lo=Object(l["createElementVNode"])("br",null,null,-1),ro=["innerHTML"];
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ao(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("EnrichedHeadline"),c=Object(l["resolveDirective"])("content-intro");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("h2",null,[Object(l["createVNode"])(a,null,{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_PluginsManagement")),1)]})),_:1})]),Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_PluginsExtendPiwik"))+" "+Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_OncePluginIsInstalledYouMayActivateHere"))+" ",1),e.isMarketplaceEnabled||e.isPluginUploadEnabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:0,innerHTML:e.$sanitize(e.teaserExtendPiwikByPluginText),style:{"margin-right":"3.5px"}},null,8,oo)):Object(l["createCommentVNode"])("",!0),e.isPluginsAdminEnabled?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",io,[lo,Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_DoMoreContactPiwikAdmins")),1)])),Object(l["createElementVNode"])("span",{innerHTML:e.$sanitize(e.changeLookByManageThemesText)},null,8,ro)])],512)),[[c]])}var co=Object(l["defineComponent"])({props:{isMarketplaceEnabled:Boolean,isPluginUploadEnabled:Boolean,isPluginsAdminEnabled:Boolean},components:{EnrichedHeadline:m["EnrichedHeadline"]},directives:{ContentIntro:m["ContentIntro"]},computed:{teaserExtendPiwikByPluginText:function(){var e="?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview",sort:null,activated:null})));return Object(m["translate"])("CorePluginsAdmin_TeaserExtendPiwikByPlugin",'<a href="'.concat(e,'">'),"</a>",'<a href="#" class="uploadPlugin">',"</a>")},changeLookByManageThemesText:function(){var e="?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{action:"themes",activated:null})));return Object(m["translate"])("CorePluginsAdmin_ChangeLookByManageThemes",'<a href="'.concat(e,'">'),"</a>")}}});co.render=ao;var uo=co,so=["innerHTML"],mo={key:1},po=Object(l["createElementVNode"])("br",null,null,-1),bo={key:2},fo=Object(l["createElementVNode"])("br",null,null,-1);function go(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("EnrichedHeadline"),c=Object(l["resolveDirective"])("content-intro");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",null,[Object(l["createElementVNode"])("h2",null,[Object(l["createVNode"])(a,null,{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_ThemesManagement")),1)]})),_:1})]),Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_ThemesDescription"))+" ",1),e.isMarketplaceEnabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:0,innerHTML:e.$sanitize(e.teaserExtendByThemeText)},null,8,so)):Object(l["createCommentVNode"])("",!0),e.otherUsersCount>0?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",mo,[po,Object(l["createTextVNode"])(" "+Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_InfoThemeIsUsedByOtherUsersAsWell",e.otherUsersCount,e.themeEnabled)),1)])):Object(l["createCommentVNode"])("",!0),e.isPluginsAdminEnabled?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",bo,[fo,Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_DoMoreContactPiwikAdmins")),1)]))])],512)),[[c]])}var Oo=Object(l["defineComponent"])({props:{isMarketplaceEnabled:Boolean,otherUsersCount:Number,themeEnabled:Boolean,isPluginsAdminEnabled:Boolean},components:{EnrichedHeadline:m["EnrichedHeadline"]},directives:{ContentIntro:m["ContentIntro"]},computed:{teaserExtendByThemeText:function(){var e="?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview",sort:"",show:"themes"})));return Object(m["translate"])("CorePluginsAdmin_TeaserExtendPiwikByTheme",'<a href="'.concat(e,'">'),"</a>")}}});Oo.render=go;var jo=Oo;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function ho(e,t){var n=e.value.pluginName,o=e.value.activePluginTab;t.preventDefault(),o&&(n+="!".concat(o)),window.broadcast.propagateNewPopoverParameter("browsePluginDetail",n)}window.broadcast.addPopoverHandler("browsePluginDetail",(function(e){var t=e,n=null;-1!==e.indexOf("!")&&(n=e.slice(e.indexOf("!")+1),t=e.slice(0,e.indexOf("!")));var o="module=Marketplace&action=pluginDetails&pluginName=".concat(encodeURIComponent(t));n&&(o+="&activeTab=".concat(encodeURIComponent(n))),window.Piwik_Popover.createPopupAndLoadUrl(o,"details")}));var vo=window,yo=vo.$,ko={mounted:function(e,t){var n=t.value.pluginName;n&&(t.value.onClickHandler=ho.bind(null,t),yo(e).on("click",t.value.onClickHandler).attr("matomo-plugin-name",n))},unmounted:function(e,t){yo(e).off("click",t.value.onClickHandler)}},Vo={class:"row pluginsFilter"},Co={class:"origin"},wo={style:{"margin-right":"3.5px"}},So={"data-filter-origin":"all",href:"#",class:"active"},Eo=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),No=Object(l["createTextVNode"])(" | "),Ao={"data-filter-origin":"core",href:"#"},Bo=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),Po=Object(l["createTextVNode"])(" | "),xo={"data-filter-origin":"official",href:"#"},To=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),Do=Object(l["createTextVNode"])(" | "),Fo={"data-filter-origin":"thirdparty",href:"#"},Mo=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),_o={class:"status"},Uo={style:{"margin-right":"3.5px"}},Lo={"data-filter-status":"all",href:"#",class:"active"},Ho=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),$o=Object(l["createTextVNode"])(" | "),Io={"data-filter-status":"active",href:"#"},zo=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),qo=Object(l["createTextVNode"])(" | "),Go={"data-filter-status":"inactive",href:"#"},Ko=Object(l["createElementVNode"])("span",{class:"counter"},null,-1),Ro={id:"confirmUninstallPlugin",class:"ui-confirm"},Wo={id:"uninstallPluginConfirm"},Zo=["value"],Yo=["value"],Jo={class:"status"},Qo={key:0,class:"action-links"},Xo={id:"plugins"},ei=["data-filter-status","data-filter-origin"],ti={class:"name"},ni=["name"],oi={key:0},ii={key:1},li=["title"],ri={key:2},ai=Object(l["createElementVNode"])("br",null,null,-1),ci=Object(l["createElementVNode"])("br",null,null,-1),ui=["href"],si={class:"desc"},di={class:"plugin-desc-missingrequirements"},mi={key:0},pi=Object(l["createElementVNode"])("br",null,null,-1),bi={class:"plugin-desc-text"},fi={key:0,class:"plugin-homepage"},gi=["href"],Oi={key:1,class:"plugin-donation"},ji=["data-overlay-id"],hi=["id","title"],vi=["innerHTML"],yi={class:"donation-links"},ki=["href"],Vi=Object(l["createElementVNode"])("img",{src:"plugins/CorePluginsAdmin/images/paypal_donate.png",height:"30"},null,-1),Ci=[Vi],wi=["href"],Si=Object(l["createElementVNode"])("img",{class:"alignnone",title:"Flattr",alt:"",src:"plugins/CorePluginsAdmin/images/flattr.png",height:"29"},null,-1),Ei=[Si],Ni={key:2,class:"donation-link bitcoin"},Ai=Object(l["createElementVNode"])("span",null,"Donate Bitcoins to:",-1),Bi=["href"],Pi=["value"],xi={key:0,class:"plugin-license"},Ti=["title","href"],Di={key:1},Fi={key:1,class:"plugin-author"},Mi=Object(l["createTextVNode"])(" By "),_i=["title","href"],Ui={key:1},Li={key:2,style:{"margin-right":"3.5px"}},Hi=Object(l["createTextVNode"])(". "),$i={key:0},Ii={key:0},zi={key:1},qi={key:0},Gi=Object(l["createElementVNode"])("br",null,null,-1),Ki=Object(l["createTextVNode"])(" - "),Ri=["data-plugin-name","href"],Wi={key:0},Zi={key:0},Yi={key:1},Ji=["href"],Qi={key:1},Xi=["href"],el={key:0,class:"tableActionBar"},tl=["href"],nl=Object(l["createElementVNode"])("span",{class:"icon-add"},null,-1),ol=["href"],il=Object(l["createElementVNode"])("span",{class:"icon-add"},null,-1),ll={class:"footer-message"};function rl(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("ContentBlock"),c=Object(l["resolveDirective"])("plugin-filter"),u=Object(l["resolveDirective"])("plugin-name"),s=Object(l["resolveDirective"])("content-table"),d=Object(l["resolveDirective"])("plugin-management");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createBlock"])(a,{"content-title":e.title,class:"pluginsManagement"},{default:Object(l["withCtx"])((function(){return[Object(l["withDirectives"])(Object(l["createElementVNode"])("p",Vo,[Object(l["createElementVNode"])("span",Co,[Object(l["createElementVNode"])("strong",wo,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Origin")),1),Object(l["createElementVNode"])("a",So,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("General_All")),1),Eo]),No,Object(l["createElementVNode"])("a",Ao,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_OriginCore")),1),Bo]),Po,Object(l["createElementVNode"])("a",xo,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_OriginOfficial")),1),To]),Do,Object(l["createElementVNode"])("a",Fo,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_OriginThirdParty")),1),Mo])]),Object(l["createElementVNode"])("span",_o,[Object(l["createElementVNode"])("strong",Uo,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),Object(l["createElementVNode"])("a",Lo,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("General_All")),1),Ho]),$o,Object(l["createElementVNode"])("a",Io,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1),zo]),qo,Object(l["createElementVNode"])("a",Go,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Inactive")),1),Ko])])],512),[[c]]),Object(l["createElementVNode"])("div",Ro,[Object(l["createElementVNode"])("h2",Wo,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_UninstallConfirm")),1),Object(l["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Yes")},null,8,Zo),Object(l["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_No")},null,8,Yo)]),Object(l["withDirectives"])(Object(l["createElementVNode"])("table",null,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",null,Object(l["toDisplayString"])(e.isTheme?e.translate("CorePluginsAdmin_Theme"):e.translate("General_Plugin")),1),Object(l["createElementVNode"])("th",null,Object(l["toDisplayString"])(e.translate("General_Description")),1),Object(l["createElementVNode"])("th",Jo,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),e.displayAdminLinks?(Object(l["openBlock"])(),Object(l["createElementBlock"])("th",Qo,Object(l["toDisplayString"])(e.translate("General_Action")),1)):Object(l["createCommentVNode"])("",!0)])]),Object(l["createElementVNode"])("tbody",Xo,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.pluginsToDisplay,(function(n,o){var i,r,a,c,s,d,m,p,b,f,g,O;return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:o,class:Object(l["normalizeClass"])(n.activated?"active-plugin":"inactive-plugin"),"data-filter-status":n.activated?"active":"inactive","data-filter-origin":e.getPluginOrigin(n)},[Object(l["createElementVNode"])("td",ti,[Object(l["createElementVNode"])("a",{name:o},null,8,ni),n.isCorePlugin||-1===e.marketplacePluginNames.indexOf(o)?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",ii,Object(l["toDisplayString"])(o),1)):Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("a",oi,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(o),1)],512)),[[u,{pluginName:o}]]),Object(l["createElementVNode"])("span",{class:"plugin-version",title:n.isCorePlugin?e.translate("CorePluginsAdmin_CorePluginTooltip"):void 0}," ("+Object(l["toDisplayString"])(n.isCorePlugin?e.translate("CorePluginsAdmin_OriginCore"):n.info.version)+") ",9,li),-1!==e.pluginNamesHavingSettings.indexOf(o)?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",ri,[ai,ci,Object(l["createElementVNode"])("a",{href:"".concat(e.generalSettingsLink,"#").concat(o),class:"settingsLink"},Object(l["toDisplayString"])(e.translate("General_Settings")),9,ui)])):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("td",si,[Object(l["createElementVNode"])("div",di,[n.missingRequirements?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",mi,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(n.missingRequirements)+" ",1),pi])):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("div",bi,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(n.info.description.replaceAll("\n","<br/>"))+" ",1),null!==(i=n.info)&&void 0!==i&&i.homepage&&-1===e.matomoUrls.indexOf(null===(r=n.info)||void 0===r?void 0:r.homepage)?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",fi,[Object(l["createElementVNode"])("a",{target:"_blank",rel:"noreferrer noopener",href:n.info.homepage}," ("+Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_PluginHomepage").replaceAll(" "," "))+") ",9,gi)])):Object(l["createCommentVNode"])("",!0),null!==(a=n.info)&&void 0!==a&&null!==(c=a.donate)&&void 0!==c&&c.length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Oi,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_LikeThisPlugin"))+" ",1),Object(l["createElementVNode"])("a",{onClick:t[0]||(t[0]=Object(l["withModifiers"])((function(){}),["prevent"])),class:"plugin-donation-link","data-overlay-id":"overlay-".concat(o)},Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_ConsiderDonating")),9,ji),Object(l["createElementVNode"])("div",{id:"overlay-".concat(o),class:"donation-overlay ui-confirm",title:e.translate("CorePluginsAdmin_LikeThisPlugin")},[Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_CommunityContributedPlugin")),1),Object(l["createElementVNode"])("p",{innerHTML:e.$sanitize(e.translate("CorePluginsAdmin_ConsiderDonatingCreatorOf","<b>".concat(o,"</b>")))},null,8,vi),Object(l["createElementVNode"])("div",yi,[null!==(s=n.info)&&void 0!==s&&null!==(d=s.donate)&&void 0!==d&&d.paypal?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,class:"donation-link paypal",target:"_blank",rel:"noreferrer noopener",href:e.getPluginDonateLink(o,n.info.donate.paypal)},Ci,8,ki)):Object(l["createCommentVNode"])("",!0),null!==(m=n.info)&&void 0!==m&&m.donate.flattr?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:1,class:"donation-link flattr",target:"_blank",rel:"noreferrer noopener",href:n.info.donate.flattr},Ei,8,wi)):Object(l["createCommentVNode"])("",!0),null!==(p=n.info)&&void 0!==p&&null!==(b=p.donate)&&void 0!==b&&b.bitcoin?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Ni,[Ai,Object(l["createElementVNode"])("a",{href:"bitcoin:".concat(encodeURIComponent(n.info.donate.bitcoin))},Object(l["toDisplayString"])(n.info.donate.bitcoin),9,Bi)])):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_Close")},null,8,Pi)],8,hi)])):Object(l["createCommentVNode"])("",!0)]),null!==(f=n.info)&&void 0!==f&&f.license?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",xi,[null!==(g=n.info)&&void 0!==g&&g.license_file?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,title:e.translate("CorePluginsAdmin_LicenseHomepage"),rel:"noreferrer noopener",target:"_blank",href:"index.php?module=CorePluginsAdmin&action=showLicense&pluginName=".concat(o)},Object(l["toDisplayString"])(n.info.license),9,Ti)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Di,Object(l["toDisplayString"])(n.info.license),1))])):Object(l["createCommentVNode"])("",!0),null!==(O=n.info)&&void 0!==O&&O.authors?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Fi,[Mi,(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(n.info.authors.filter((function(e){return e.name})),(function(t,o){return Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:o},[t.homepage?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,title:e.translate("CorePluginsAdmin_AuthorHomepage"),href:t.homepage,rel:"noreferrer noopener",target:"_blank"},Object(l["toDisplayString"])(t.name),9,_i)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Ui,Object(l["toDisplayString"])(t.name),1)),n.info.authors.length-1>o?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Li,",")):Object(l["createCommentVNode"])("",!0)])})),128)),Hi])):Object(l["createCommentVNode"])("",!0)]),Object(l["createElementVNode"])("td",{class:"status",style:Object(l["normalizeStyle"])({"border-left-width":e.isDefaultTheme(o)?"0":void 0})},[e.isDefaultTheme(o)?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",$i,[n.activated?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Ii,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Active")),1)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",zi,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Inactive"))+" ",1),n.uninstallable&&e.displayAdminLinks?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",qi,[Gi,Ki,Object(l["createElementVNode"])("a",{"data-plugin-name":o,class:"uninstall",href:e.getUninstallLink(o)},Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_ActionUninstall")),9,Ri)])):Object(l["createCommentVNode"])("",!0)]))]))],4),e.displayAdminLinks?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",{key:0,class:"togl action-links",style:Object(l["normalizeStyle"])({"border-left-width":e.isDefaultTheme(o)?0:void 0})},[e.isDefaultTheme(o)?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Wi,[n.invalid&&n.alwaysActivated?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Zi,"-")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Yi,[n.activated?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,href:e.getDeactivateLink(o)},Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Deactivate")),9,Ji)):n.missingRequirements?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Qi,"-")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:2,href:e.getActivateLink(o)},Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Activate")),9,Xi))]))]))],4)):Object(l["createCommentVNode"])("",!0)],10,ei)})),128))])],512),[[s]]),e.displayAdminLinks?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",el,[e.isTheme?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,href:e.themeOverviewLink},[nl,Object(l["createTextVNode"])(" "+Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_InstallNewThemes")),1)],8,tl)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:1,href:e.overviewLink},[il,Object(l["createTextVNode"])(" "+Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_InstallNewPlugins")),1)],8,ol))])):Object(l["createCommentVNode"])("",!0),Object(l["createElementVNode"])("div",ll,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_AlwaysActivatedPluginsList",e.pluginsAlwaysActivated)),1)]})),_:1},8,["content-title"])),[[d,{}]])}function al(e,t){return ml(e)||dl(e,t)||ul(e,t)||cl()}function cl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ul(e,t){if(e){if("string"===typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(e,t):void 0}}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function dl(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function ml(e){if(Array.isArray(e))return e}var pl=Object(l["defineComponent"])({props:{isTheme:Boolean,displayAdminLinks:Boolean,pluginsInfo:{type:Object,required:!0},uninstallNonce:{type:String,required:!0},deactivateNonce:{type:String,required:!0},activateNonce:{type:String,required:!0},marketplacePluginNames:{type:Array,required:!0},pluginNamesHavingSettings:{type:Array,required:!0},title:{type:String,required:!0}},components:{ContentBlock:m["ContentBlock"]},directives:{PluginManagement:zn,PluginFilter:Un,ContentTable:m["ContentTable"],PluginName:ko},methods:{getPluginOrigin:function(e){return e.isCorePlugin?"core":e.isOfficialPlugin?"official":"thirdparty"},getPluginDonateLink:function(e,t){return"https://www.paypal.com/cgi-bin/webscr?".concat(m["MatomoUrl"].stringify({cmd:"_donations",item_name:"Matomo Plugin ".concat(e),bn:"PP-DonationsBF:btn_donateCC_LG.gif:NonHosted",business:t}))},getUninstallLink:function(e){return"?".concat(m["MatomoUrl"].stringify({module:"CorePluginsAdmin",action:"uninstall",pluginName:e,nonce:this.uninstallNonce}))},isDefaultTheme:function(e){return this.isTheme&&"Morpheus"===e},getDeactivateLink:function(e){return"?".concat(m["MatomoUrl"].stringify({module:"CorePluginsAdmin",action:"deactivate",pluginName:e,nonce:this.deactivateNonce,redirectTo:"referrer"}))},getActivateLink:function(e){return"?".concat(m["MatomoUrl"].stringify({module:"CorePluginsAdmin",action:"activate",pluginName:e,nonce:this.activateNonce,redirectTo:"referrer"}))}},computed:{pluginsToDisplay:function(){var e=this,t=this.pluginsInfo;return Object.fromEntries(Object.entries(t).filter((function(t){var n=al(t,2),o=n[1];if(e.isTheme)return!0;var i=o.alwaysActivated;return"undefined"!==typeof i&&null!==i&&!i})))},generalSettingsLink:function(){return"?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"CoreAdminHome",action:"generalSettings"})))},matomoUrls:function(){return["http://piwik.org","http://www.piwik.org","http://piwik.org/","http://www.piwik.org/","https://piwik.org","https://www.piwik.org","https://piwik.org/","https://www.piwik.org/","http://matomo.org","http://www.matomo.org","http://matomo.org/","http://www.matomo.org/","https://matomo.org","https://www.matomo.org","https://matomo.org/","https://www.matomo.org/"]},themeOverviewLink:function(){return"?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview",sort:"",show:"themes"})))},overviewLink:function(){return"?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"overview",sort:""})))},pluginsAlwaysActivated:function(){var e=this.pluginsInfo;return Object.entries(e).filter((function(e){var t=al(e,2),n=t[1];return n.alwaysActivated})).map((function(e){var t=al(e,1),n=t[0];return n})).join(", ")}}});pl.render=rl;var bl=pl,fl={class:"checkbox-container"},gl=Object(l["createElementVNode"])("span",null,null,-1),Ol={class:"num"},jl={class:"status"},hl={class:"action-links"},vl={id:"plugins"},yl={class:"select-cell"},kl={class:"checkbox-container"},Vl=["id","disabled","onUpdate:modelValue"],Cl=Object(l["createElementVNode"])("span",null,null,-1),wl={class:"name"},Sl={class:"vers"},El=["href","title"],Nl={key:1},Al={class:"desc"},Bl={class:"status"},Pl={class:"togl action-links"},xl=["title"],Tl=["href"],Dl=["href"],Fl={key:3};function Ml(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("MissingReqsNotice"),c=Object(l["resolveComponent"])("ContentBlock"),u=Object(l["resolveDirective"])("plugin-name"),s=Object(l["resolveDirective"])("content-table");return Object.keys(e.pluginsHavingUpdate).length?(Object(l["openBlock"])(),Object(l["createBlock"])(c,{key:0,"content-title":"".concat(Object.keys(e.pluginsHavingUpdate).length," Update(s) available")},{default:Object(l["withCtx"])((function(){return[Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_InfoPluginUpdateIsRecommended")),1),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("a",{id:"update-selected-plugins",onClick:t[0]||(t[0]=Object(l["withModifiers"])((function(t){return e.updateSelectedPlugins()}),["prevent"])),class:Object(l["normalizeClass"])({btn:!0,disabled:e.isUpdateLinkDisabled})},Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_UpdateSelected")),3)]),Object(l["withDirectives"])(Object(l["createElementVNode"])("table",null,[Object(l["createElementVNode"])("thead",null,[Object(l["createElementVNode"])("tr",null,[Object(l["createElementVNode"])("th",null,[Object(l["createElementVNode"])("span",fl,[Object(l["createElementVNode"])("label",null,[Object(l["createElementVNode"])("input",{type:"checkbox",id:"select-plugin-all",onChange:t[1]||(t[1]=function(t){return e.selectAll(t.target.checked)})},null,32),gl])])]),Object(l["createElementVNode"])("th",null,Object(l["toDisplayString"])(e.translate("General_Plugin")),1),Object(l["createElementVNode"])("th",Ol,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Version")),1),Object(l["createElementVNode"])("th",null,Object(l["toDisplayString"])(e.translate("General_Description")),1),Object(l["createElementVNode"])("th",jl,Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_Status")),1),Object(l["createElementVNode"])("th",hl,Object(l["toDisplayString"])(e.translate("General_Action")),1)])]),Object(l["createElementVNode"])("tbody",vl,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.pluginsHavingUpdate,(function(n,o){var i;return Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:o,class:Object(l["normalizeClass"])(n.isActivated?"active-plugin":"inactive-plugin")},[Object(l["createElementVNode"])("td",yl,[Object(l["createElementVNode"])("span",kl,[Object(l["createElementVNode"])("label",null,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"checkbox",id:"select-plugin-".concat(n.name),disabled:"undefined"!==typeof n.isDownloadable&&null!==n.isDownloadable&&!n.isDownloadable,"onUpdate:modelValue":function(t){return e.pluginsSelected[o]=t}},null,8,Vl),[[l["vModelCheckbox"],e.pluginsSelected[o]]]),Cl])])]),Object(l["createElementVNode"])("td",wl,[Object(l["withDirectives"])(Object(l["createElementVNode"])("a",{onClick:t[2]||(t[2]=Object(l["withModifiers"])((function(){}),["prevent"])),class:"plugin-details"},[Object(l["createTextVNode"])(Object(l["toDisplayString"])(n.name),1)],512),[[u,{pluginName:n.name}]])]),Object(l["createElementVNode"])("td",Sl,[null!==(i=n.changelog)&&void 0!==i&&i.url?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:0,href:n.changelog.url,title:e.translate("CorePluginsAdmin_Changelog"),target:"_blank",rel:"noreferrer noopener"},Object(l["toDisplayString"])(n.currentVersion)+" => "+Object(l["toDisplayString"])(n.latestVersion),9,El)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Nl,Object(l["toDisplayString"])(n.currentVersion)+" => "+Object(l["toDisplayString"])(n.latestVersion),1))]),Object(l["createElementVNode"])("td",Al,[Object(l["createTextVNode"])(Object(l["toDisplayString"])(n.description)+" ",1),Object(l["createVNode"])(a,{plugin:n},null,8,["plugin"])]),Object(l["createElementVNode"])("td",Bl,Object(l["toDisplayString"])(n.isActivated?e.translate("CorePluginsAdmin_Active"):e.translate("CorePluginsAdmin_Inactive")),1),Object(l["createElementVNode"])("td",Pl,["undefined"===typeof n.isDownloadable||null===n.isDownloadable||n.isDownloadable?e.isMultiServerEnvironment?Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:1,onClick:t[3]||(t[3]=function(t){return e.isPluginDownloadLinkClicked=!0}),href:e.downloadPluginLink(n)},Object(l["toDisplayString"])(e.translate("General_Download")),9,Tl)),[[l["vShow"],!e.isPluginDownloadLinkClicked]]):0===n.missingRequirements.length?(Object(l["openBlock"])(),Object(l["createElementBlock"])("a",{key:2,href:e.updatePluginLink(n)},Object(l["toDisplayString"])(e.translate("CoreUpdater_UpdateTitle")),9,Dl)):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",Fl,"-")):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:0,title:"".concat(e.translate("CorePluginsAdmin_PluginNotDownloadable")," ").concat(n.isPaid?e.translate("CorePluginsAdmin_PluginNotDownloadablePaidReason"):"")},Object(l["toDisplayString"])(e.translate("CorePluginsAdmin_NotDownloadable")),9,xl))])],2)})),128))])],512),[[s]])]})),_:1},8,["content-title"])):Object(l["createCommentVNode"])("",!0)}function _l(e,t){return Il(e)||$l(e,t)||Ll(e,t)||Ul()}function Ul(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ll(e,t){if(e){if("string"===typeof e)return Hl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hl(e,t):void 0}}function Hl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function $l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,l=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done);r=!0)if(l.push(o.value),t&&l.length===t)break}catch(c){a=!0,i=c}finally{try{r||null==n["return"]||n["return"]()}finally{if(a)throw i}}return l}}function Il(e){if(Array.isArray(e))return e}var zl=Object(m["useExternalPluginComponent"])("Marketplace","MissingReqsNotice"),ql=Object(l["defineComponent"])({props:{pluginsHavingUpdate:{type:Object,required:!0},pluginUpdateNonces:{type:Object,required:!0},updateNonce:{type:String,required:!0},isMultiServerEnvironment:Boolean},components:{ContentBlock:m["ContentBlock"],MissingReqsNotice:zl},directives:{ContentTable:m["ContentTable"],PluginName:ko},data:function(){return{isUpdating:!1,isPluginDownloadLinkClicked:!1,pluginsSelected:{}}},computed:{isUpdateLinkDisabled:function(){return this.isUpdating||!Object.keys(this.pluginsSelected).length||Object.values(this.pluginsSelected).some((function(e){return!!e}))}},methods:{selectAll:function(e){var t=this,n=this.pluginsHavingUpdate;Object.entries(n).forEach((function(n){var o=_l(n,2),i=o[0],l=o[1];(null===l.isDownloadable||"undefined"===typeof l.isDownloadable||l.isDownloadable)&&(t.pluginsSelected[i]=e)}))},downloadPluginLink:function(e){return"?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"download",pluginName:e.name,nonce:this.pluginUpdateNonces[e.name]})))},updatePluginLink:function(e){return"?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"updatePlugin",pluginName:e.name,nonce:this.updateNonce})))},updateSelectedPlugins:function(){this.isUpdating=!0;var e=Object.entries(this.pluginsSelected).filter((function(e){var t=_l(e,2),n=t[1];return n})).map((function(e){var t=_l(e,1),n=t[0];return n}));m["MatomoUrl"].updateUrl(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"Marketplace",action:"updatePlugin",nonce:this.updateNonce,pluginName:e.join(",")}))}}});ql.render=Ml;var Gl=ql,Kl={class:"ui-confirm",id:"installPluginByUpload"},Rl={key:0},Wl={class:"description"},Zl=["action"],Yl=["data-max-size"],Jl=Object(l["createElementVNode"])("br",null,null,-1),Ql=["value"],Xl={key:1},er=["innerHTML"],tr=Object(l["createElementVNode"])("pre",null,"[General]\n  enable_plugin_upload = 1",-1),nr=["value"];function or(e,t,n,o,i,r){var a=Object(l["resolveComponent"])("Field"),c=Object(l["resolveDirective"])("plugin-upload");return Object(l["withDirectives"])((Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Kl,[Object(l["createElementVNode"])("h2",null,Object(l["toDisplayString"])(e.translate("Marketplace_TeaserExtendPiwikByUpload")),1),e.isPluginUploadEnabled?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Rl,[Object(l["createElementVNode"])("p",Wl,Object(l["toDisplayString"])(e.translate("Marketplace_AllowedUploadFormats")),1),Object(l["createElementVNode"])("form",{enctype:"multipart/form-data",method:"post",id:"uploadPluginForm",action:e.uploadPluginAction},[Object(l["createElementVNode"])("input",{type:"file",name:"pluginZip","data-max-size":e.uploadLimit},null,8,Yl),Jl,Object(l["createVNode"])(a,{uicontrol:"password",name:"confirmPassword",autocomplete:"off",title:e.translate("Login_ConfirmPasswordToContinue"),modelValue:e.confirmPassword,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.confirmPassword=t})},null,8,["title","modelValue"]),Object(l["createElementVNode"])("input",{class:"startUpload btn",type:"submit",value:e.translate("Marketplace_UploadZipFile")},null,8,Ql)],8,Zl)])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",Xl,[Object(l["createElementVNode"])("p",{class:"description",innerHTML:e.$sanitize(e.translate("Marketplace_PluginUploadDisabled"))},null,8,er),tr,Object(l["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Ok")},null,8,nr)]))],512)),[[c]])}var ir=Object(l["defineComponent"])({props:{isPluginUploadEnabled:Boolean,uploadLimit:[String,Number],installNonce:String},components:{Field:Wt},directives:{PluginUpload:Wn},data:function(){return{confirmPassword:""}},computed:{uploadPluginAction:function(){return"?".concat(m["MatomoUrl"].stringify(Object.assign(Object.assign({},m["MatomoUrl"].urlParsed.value),{},{module:"CorePluginsAdmin",action:"uploadPlugin",nonce:this.installNonce})))}}});ir.render=or;var lr=ir;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
*/}})}));
//# sourceMappingURL=CorePluginsAdmin.umd.min.js.map